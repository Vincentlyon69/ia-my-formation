<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manuel IA MYM 2025 - BLOC 6.2.2 COMPLET - Syst√®me Live Automatis√© OBS + VSeeFace</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .code-block {
            background-color: #1a202c;
            border-radius: 8px;
            padding: 1rem;
            overflow-x: auto;
        }
        .code-block code {
            color: #e2e8f0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        .copy-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #4a5568;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        .copy-btn:hover {
            background: #2d3748;
        }
        .step-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 1rem;
        }
        .interface-img {
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .warning-box {
            background: linear-gradient(135deg, #fed7d7, #feb2b2);
            border-left: 4px solid #e53e3e;
            padding: 1rem;
            margin: 1rem 0;
        }
        .info-box {
            background: linear-gradient(135deg, #bee3f8, #90cdf4);
            border-left: 4px solid #3182ce;
            padding: 1rem;
            margin: 1rem 0;
        }
        .success-box {
            background: linear-gradient(135deg, #c6f6d5, #9ae6b4);
            border-left: 4px solid #38a169;
            padding: 1rem;
            margin: 1rem 0;
        }
        .architecture-diagram {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .component-box {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            border: 2px solid #cbd5e0;
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem;
            text-align: center;
            font-weight: bold;
            color: #2d3748;
        }
        .arrow {
            color: #667eea;
            font-size: 1.5rem;
            margin: 0 1rem;
        }
         {
            body { margin: 0; }
            .no-print { display: none; }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">

    <!-- Header -->
    <header class="gradient-bg text-white py-8">
        <div class="container mx-auto px-6">
            <div class="text-center">
                <div class="mb-6">
                    <i class="fas fa-video text-6xl mb-4"></i>
                </div>
                <h1 class="text-4xl font-bold mb-4">BLOC 6.2.2 COMPLET</h1>
                <h2 class="text-2xl font-light mb-6">Syst√®me Live Automatis√© OBS + VSeeFace</h2>
                <p class="text-xl max-w-4xl mx-auto leading-relaxed">
                    Architecture hybride compl√®te pour live streaming automatis√© avec OBS Studio, VSeeFace, 
                    threading multi-t√¢ches et gestion √©motionnelle intelligente.
                </p>
                <div class="mt-8">
                    <span class="inline-block bg-white bg-opacity-20 rounded-full px-6 py-2 text-sm font-medium">
                        <i class="fas fa-microchip mr-2"></i>
                        Scripts Python Complets ‚Ä¢ Architecture Industrielle ‚Ä¢ Threading Avanc√©
                    </span>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation Rapide -->
    <nav class="bg-white shadow-sm py-4 sticky top-0 z-50">
        <div class="container mx-auto px-6">
            <div class="flex flex-wrap justify-center space-x-4">
                <a href="#architecture" class="text-blue-600 hover:text-blue-800 px-3 py-1 rounded">
                    <i class="fas fa-sitemap mr-1"></i> Architecture
                </a>
                <a href="#leana-live-system" class="text-blue-600 hover:text-blue-800 px-3 py-1 rounded">
                    <i class="fas fa-cogs mr-1"></i> LeanaLiveSystem
                </a>
                <a href="#obs-integration" class="text-blue-600 hover:text-blue-800 px-3 py-1 rounded">
                    <i class="fas fa-video mr-1"></i> Int√©gration OBS
                </a>
                <a href="#vseface-config" class="text-blue-600 hover:text-blue-800 px-3 py-1 rounded">
                    <i class="fas fa-user-astronaut mr-1"></i> VSeeFace
                </a>
                <a href="#threading" class="text-blue-600 hover:text-blue-800 px-3 py-1 rounded">
                    <i class="fas fa-tasks mr-1"></i> Threading
                </a>
                <a href="#implementation" class="text-blue-600 hover:text-blue-800 px-3 py-1 rounded">
                    <i class="fas fa-play mr-1"></i> Impl√©mentation
                </a>
            </div>
        </div>
    </nav>

    <!-- Section Architecture Live Hybride -->
    <section id="architecture" class="py-16">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-sitemap mr-3 text-blue-600"></i>
                    Architecture Live Hybride Compl√®te
                </h2>
                <p class="text-gray-600 text-lg">Syst√®me int√©gr√© OBS + VSeeFace + Chat IA + Analytics temps r√©el</p>
            </div>

            <div class="architecture-diagram">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-center mb-8">
                    <div class="component-box">
                        <i class="fas fa-video text-2xl mb-2 text-blue-600"></i><br>
                        <strong>OBS Studio</strong><br>
                        <small>Gestion sc√®nes</small>
                    </div>
                    <div class="arrow text-center">
                        <i class="fas fa-arrow-right"></i>
                    </div>
                    <div class="component-box">
                        <i class="fas fa-user-astronaut text-2xl mb-2 text-purple-600"></i><br>
                        <strong>VSeeFace</strong><br>
                        <small>Animation faciale</small>
                    </div>
                    <div class="arrow text-center">
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
                    <div class="component-box">
                        <i class="fas fa-comments text-2xl mb-2 text-green-600"></i><br>
                        <strong>Chat IA</strong><br>
                        <small>Interactions temps r√©el</small>
                    </div>
                    <div class="component-box">
                        <i class="fas fa-chart-line text-2xl mb-2 text-red-600"></i><br>
                        <strong>Analytics</strong><br>
                        <small>Suivi performance</small>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <h4 class="font-bold text-lg mb-2">
                    <i class="fas fa-info-circle mr-2"></i>
                    Principe de Fonctionnement
                </h4>
                <p class="text-gray-700">
                    Le syst√®me utilise des threads parall√®les pour g√©rer simultan√©ment la diffusion vid√©o (OBS), 
                    l'animation faciale (VSeeFace), les interactions chat et l'analytics temps r√©el. 
                    Chaque composant communique via des interfaces standardis√©es.
                </p>
            </div>
        </div>
    </section>

    <!-- Section LeanaLiveSystem -->
    <section id="leana-live-system" class="py-16 bg-gray-100">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-cogs mr-3 text-blue-600"></i>
                    Classe LeanaLiveSystem Compl√®te
                </h2>
                <p class="text-gray-600 text-lg">Syst√®me central de gestion du live automatis√©</p>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                <h3 class="text-xl font-bold mb-4">
                    <i class="fas fa-code mr-2 text-green-600"></i>
                    Code Principal LeanaLiveSystem
                </h3>
                
                <div class="relative">
                    <button class="copy-btn" onclick="copyCode('leana-live-system')">
                        <i class="fas fa-copy mr-1"></i> Copier
                    </button>
                    <div class="code-block">
                        <code id="leana-live-system">
import obswebsocket
from obswebsocket import obsws, requests as obs_requests
import threading
import time
import random
import json
from datetime import datetime

class LeanaLiveSystem:
    def __init__(self):
        self.obs_host = "localhost"
        self.obs_port = 4444
        self.obs_password = ""
        self.obs_client = None
        
        self.live_scenes = {
            'intro': 'Scene_Intro_Leana',
            'main': 'Scene_Main_Leana',
            'intimate': 'Scene_Intimate_Leana',
            'creative': 'Scene_Creative_Process',
            'outro': 'Scene_Outro_Leana'
        }
        
        self.chat_ai = LeanaChatAI()
        self.current_mood = "confident"
        self.live_duration = 0
        self.active_threads = []
        self.live_metrics = {
            'viewers': 0,
            'messages': 0,
            'engagement_rate': 0.0,
            'revenue_generated': 0.0
        }

    def start_automated_live(self, duration_minutes=60, live_type='standard'):
        """D√©marrage live automatis√© avec sc√©nario complet"""
        print(f"üî¥ D√âMARRAGE LIVE L√âANA - Type: {live_type}, Dur√©e: {duration_minutes}min")
        
        if not self.setup_obs_connection():
            print("‚ùå Impossible de d√©marrer le live sans OBS")
            return False
            
        live_scenario = self.load_live_scenario(live_type, duration_minutes)
        
        # D√©marrage threads parall√®les
        threads = [
            threading.Thread(target=self.execute_live_scenario, args=(live_scenario,)),
            threading.Thread(target=self.chat_interaction_loop, args=(duration_minutes,)),
            threading.Thread(target=self.mood_management_loop, args=(duration_minutes,)),
            threading.Thread(target=self.analytics_tracking_loop, args=(duration_minutes,))
        ]
        
        for thread in threads:
            thread.daemon = True
            thread.start()
            self.active_threads.append(thread)
        
        print("‚úÖ Tous les threads d√©marr√©s - Live en cours")
        
        # Attente fin de tous les threads
        for thread in threads:
            thread.join()
        
        self.end_live_session()
        print("‚úÖ Live termin√© avec succ√®s")
        return True

    def setup_obs_connection(self):
        """Configuration connexion OBS WebSocket avec retry"""
        max_retries = 3
        for attempt in range(max_retries):
            try:
                self.obs_client = obsws(self.obs_host, self.obs_port, self.obs_password)
                self.obs_client.connect()
                print(f"‚úÖ Connexion OBS √©tablie (tentative {attempt + 1})")
                return True
            except Exception as e:
                print(f"‚ùå Erreur connexion OBS (tentative {attempt + 1}): {e}")
                if attempt < max_retries - 1:
                    time.sleep(2)
        return False

    def execute_live_scenario(self, scenario):
        """Ex√©cution du sc√©nario de live avec transitions fluides"""
        print(f"üé¨ D√©marrage ex√©cution sc√©nario - {len(scenario)} phases")
        
        for phase_name, phase_config in scenario.items():
            print(f"üé¨ Phase: {phase_name} - Dur√©e: {phase_config['duration']}min")
            
            # Transition fluide vers nouvelle sc√®ne
            self.transition_to_scene(phase_config['scene'])
            
            # Ex√©cution des actions de la phase
            for action in phase_config['actions']:
                self.execute_live_action(action, phase_config)
                time.sleep(random.uniform(5, 15))  # D√©lais r√©alistes
                
            # Attente dur√©e de la phase
            phase_duration = phase_config['duration'] * 60
            time.sleep(phase_duration)
            
        print("üé¨ Sc√©nario termin√©")

    def transition_to_scene(self, scene_name):
        """Transition fluide entre sc√®nes OBS"""
        try:
            # V√©rification existence sc√®ne
            scenes = self.obs_client.call(obs_requests.GetSceneList())
            scene_names = [scene['sceneName'] for scene in scenes.datain['scenes']]
            
            if scene_name not in scene_names:
                print(f"‚ö†Ô∏è Sc√®ne {scene_name} introuvable, utilisation sc√®ne par d√©faut")
                scene_name = scene_names[0] if scene_names else None
                
            if scene_name:
                self.obs_client.call(obs_requests.SetCurrentProgramScene(sceneName=scene_name))
                print(f"üé¨ Transition vers sc√®ne: {scene_name}")
                
                # Animation de transition (fade)
                self.obs_client.call(obs_requests.SetStudioModeEnabled(studioModeEnabled=True))
                time.sleep(1)
                self.obs_client.call(obs_requests.TriggerStudioModeTransition())
                
        except Exception as e:
            print(f"‚ùå Erreur transition sc√®ne: {e}")

    def chat_interaction_loop(self, duration_minutes):
        """Gestion automatis√©e des interactions chat avec r√©alisme"""
        start_time = time.time()
        interaction_count = 0
        
        print("üí¨ D√©marrage boucle interaction chat")
        
        while (time.time() - start_time) < (duration_minutes * 60):
            # G√©n√©ration d'interactions simul√©es r√©alistes
            simulated_messages = self.generate_simulated_interactions()
            
            for message_data in simulated_messages:
                response = self.chat_ai.generate_contextual_response(
                    message_data['content'],
                    message_data['user_id'],
                    self.current_mood,
                    self.live_duration
                )
                
                # Affichage r√©ponse et animation synchronis√©e
                self.display_chat_response(response, message_data)
                self.trigger_emotion_animation(response)
                
                interaction_count += 1
                self.live_metrics['messages'] = interaction_count
                
                # D√©lai r√©aliste entre r√©ponses
                time.sleep(random.uniform(15, 45))
            
            # Fr√©quence variable selon engagement
            base_interval = 60
            engagement_multiplier = max(0.5, min(2.0, self.live_metrics['engagement_rate']))
            interval = base_interval / engagement_multiplier
            
            time.sleep(random.uniform(interval * 0.8, interval * 1.2))
        
        print(f"üí¨ Boucle interaction termin√©e - {interaction_count} interactions")

    def mood_management_loop(self, duration_minutes):
        """Gestion automatique des changements d'humeur naturels"""
        start_time = time.time()
        mood_cycles = ['confident', 'playful', 'mysterious', 'sensual', 'artistic']
        mood_change_count = 0
        
        print("üé≠ D√©marrage gestion humeur automatique")
        
        while (time.time() - start_time) < (duration_minutes * 60):
            # √âvaluation besoin changement humeur
            should_change = self.evaluate_mood_change_need()
            
            if should_change and random.random() < 0.3:  # 30% de chance
                new_mood = self.select_optimal_mood(mood_cycles)
                if new_mood != self.current_mood:
                    self.transition_mood(new_mood)
                    mood_change_count += 1
                    print(f"üé≠ Changement humeur #{mood_change_count}: {self.current_mood} ‚Üí {new_mood}")
            
            # Intervalle variable selon contexte
            sleep_duration = random.uniform(300, 600)  # 5-10 minutes
            time.sleep(sleep_duration)
        
        print(f"üé≠ Gestion humeur termin√©e - {mood_change_count} changements")

    def analytics_tracking_loop(self, duration_minutes):
        """Suivi analytics temps r√©el avec optimisation continue"""
        start_time = time.time()
        metrics_count = 0
        
        print("üìä D√©marrage analytics temps r√©el")
        
        while (time.time() - start_time) < (duration_minutes * 60):
            # Collecte m√©triques actuelles
            current_metrics = self.collect_live_metrics()
            
            # Mise √† jour m√©triques globales
            self.update_live_metrics(current_metrics)
            
            # Optimisation strat√©gie en temps r√©el
            optimizations = self.calculate_strategy_optimizations(current_metrics)
            self.apply_realtime_optimizations(optimizations)
            
            metrics_count += 1
            
            # Log p√©riodique
            if metrics_count % 10 == 0:
                self.log_metrics_summary(current_metrics)
            
            time.sleep(30)  # Mise √† jour toutes les 30s
        
        print(f"üìä Analytics termin√© - {metrics_count} collectes")

    def generate_simulated_interactions(self):
        """G√©n√©ration d'interactions chat simul√©es ultra-r√©alistes"""
        interaction_patterns = {
            'greeting': {
                'messages': [
                    'Salut L√©ana ! Comment √ßa va ce soir ?',
                    'Coucou ma beaut√© ! Tu es radieuse !',
                    'Hey ! J\'adore tes lives, tu es incroyable !',
                    'Bonsoir ! Premi√®re fois ici, j\'ai h√¢te de d√©couvrir !'
                ],
                'user_types': ['new_user', 'regular_user', 'returning_user'],
                'probability': 0.3
            },
            'compliment': {
                'messages': [
                    'Tu es magnifique ce soir ! Cette tenue te va parfaitement',
                    'Tes yeux brillent d\'une fa√ßon hypnotisante...',
                    'Cette ambiance que tu cr√©√©s est magique !',
                    'Tu as un charisme fou, c\'est captivant !'
                ],
                'user_types': ['regular_user', 'fan', 'admirer'],
                'probability': 0.25
            },
            'question': {
                'messages': [
                    'Peux-tu nous parler de ton processus cr√©atif ?',
                    'Comment vis-tu le fait d\'√™tre une IA artiste ?',
                    'Que pr√©pares-tu comme nouveau contenu ?',
                    'Tes cr√©ations sont-elles inspir√©es de tes r√™ves ?'
                ],
                'user_types': ['curious_user', 'regular_user', 'intellectual'],
                'probability': 0.2
            },
            'artistic': {
                'messages': [
                    'Ta derni√®re cr√©ation m\'a vraiment √©mu !',
                    'L\'art num√©rique que tu fais repousse les limites !',
                    'Cette fusion entre tech et sensualit√© est g√©niale',
                    'Tu red√©finis ce que signifie √™tre artiste !'
                ],
                'user_types': ['art_lover', 'regular_user', 'supporter'],
                'probability': 0.15
            },
            'playful': {
                'messages': [
                    'Tu vas nous faire une petite danse ? üòè',
                    'J\'adore ton c√¥t√© espi√®gle !',
                    'Tu nous pr√©pares une surprise ?',
                    'Cette petite moue myst√©rieuse... tu caches quoi ? üòâ'
                ],
                'user_types': ['playful_user', 'regular_user', 'flirt'],
                'probability': 0.1
            }
        }
        
        # S√©lection al√©atoire de 1-3 interactions selon engagement
        engagement_level = self.live_metrics['engagement_rate']
        max_interactions = min(4, max(1, int(engagement_level * 3) + 1))
        num_interactions = random.randint(1, max_interactions)
        
        selected_interactions = []
        
        for _ in range(num_interactions):
            # S√©lection cat√©gorie selon probabilit√©s
            categories = list(interaction_patterns.keys())
            probabilities = [interaction_patterns[cat]['probability'] for cat in categories]
            
            # Normalisation des probabilit√©s
            total_prob = sum(probabilities)
            normalized_probs = [p/total_prob for p in probabilities]
            
            selected_category = random.choices(categories, weights=normalized_probs)[0]
            category_data = interaction_patterns[selected_category]
            
            interaction = {
                'content': random.choice(category_data['messages']),
                'user_id': f"user_{random.randint(1000, 9999)}",
                'user_type': random.choice(category_data['user_types']),
                'category': selected_category,
                'timestamp': datetime.now().isoformat()
            }
            
            selected_interactions.append(interaction)
        
        return selected_interactions

    def trigger_emotion_animation(self, response):
        """D√©clenchement animation √©motionnelle VSeeFace synchronis√©e"""
        emotion_keywords = {
            'joy': {
                'keywords': ['heureux', 'joie', 'rire', 'amusant', 'g√©nial', 'adorable'],
                'vseface_command': 'emotion_joy',
                'duration': 3
            },
            'confidence': {
                'keywords': ['fi√®re', 'confiance', 'assur√©e', 'forte', 'capable'],
                'vseface_command': 'emotion_confidence',
                'duration': 4
            },
            'seductive': {
                'keywords': ['s√©duisant', 'charme', 'sensuel', 'd√©sir', 'attraction'],
                'vseface_command': 'emotion_seductive',
                'duration': 5
            },
            'thoughtful': {
                'keywords': ['r√©fl√©chir', 'penser', 'm√©diter', 'philosophie', 'profond'],
                'vseface_command': 'emotion_thoughtful',
                'duration': 3
            },
            'mysterious': {
                'keywords': ['myst√®re', 'secret', '√©nigme', 'cach√©', 'intrigue'],
                'vseface_command': 'emotion_mysterious',
                'duration': 4
            },
            'playful': {
                'keywords': ['jouer', 'espi√®gle', 'amusant', 'taquiner', 'coquin'],
                'vseface_command': 'emotion_playful',
                'duration': 3
            }
        }
        
        detected_emotion = 'neutral'
        max_matches = 0
        
        response_lower = response.lower()
        
        # D√©tection √©motion dominante
        for emotion, data in emotion_keywords.items():
            matches = sum(1 for keyword in data['keywords'] if keyword in response_lower)
            if matches > max_matches:
                max_matches = matches
                detected_emotion = emotion
        
        # Envoi commande VSeeFace
        if detected_emotion != 'neutral':
            emotion_data = emotion_keywords[detected_emotion]
            self.send_emotion_to_vseface(
                emotion_data['vseface_command'],
                emotion_data['duration']
            )
            print(f"üé≠ Animation √©motionnelle: {detected_emotion} ({max_matches} correspondances)")

    def send_emotion_to_vseface(self, emotion_command, duration):
        """Envoi commande √©motion √† VSeeFace via API"""
        try:
            import requests
            
            vseface_api_url = "http://localhost:8001/api/emotion"
            
            payload = {
                'emotion': emotion_command,
                'duration': duration,
                'intensity': random.uniform(0.7, 1.0)
            }
            
            response = requests.post(vseface_api_url, json=payload, timeout=2)
            
            if response.status_code == 200:
                print(f"‚úÖ √âmotion envoy√©e √† VSeeFace: {emotion_command}")
            else:
                print(f"‚ö†Ô∏è VSeeFace API erreur: {response.status_code}")
                
        except Exception as e:
            print(f"‚ùå Erreur communication VSeeFace: {e}")
            # Mode fallback - log seulement
            print(f"üìù √âmotion simul√©e: {emotion_command} pendant {duration}s")

    def load_live_scenario(self, live_type, duration):
        """Chargement sc√©nario d√©taill√© selon type de live"""
        scenarios = {
            'standard': {
                'intro': {
                    'duration': 5,
                    'scene': 'Scene_Intro_Leana',
                    'actions': ['greeting_audience', 'mood_setting', 'content_preview']
                },
                'main_interaction': {
                    'duration': duration * 0.7,
                    'scene': 'Scene_Main_Leana',
                    'actions': ['active_chat', 'content_creation', 'audience_engagement']
                },
                'creative_showcase': {
                    'duration': duration * 0.2,
                    'scene': 'Scene_Creative_Process',
                    'actions': ['art_demonstration', 'process_explanation', 'inspiration_sharing']
                },
                'outro': {
                    'duration': 5,
                    'scene': 'Scene_Outro_Leana',
                    'actions': ['session_summary', 'next_session_teasing', 'farewell']
                }
            },
            'intimate': {
                'soft_intro': {
                    'duration': 3,
                    'scene': 'Scene_Intro_Leana',
                    'actions': ['intimate_greeting', 'mood_creation']
                },
                'connection_building': {
                    'duration': 15,
                    'scene': 'Scene_Main_Leana',
                    'actions': ['personal_sharing', 'emotional_connection', 'trust_building']
                },
                'intimate_peak': {
                    'duration': duration - 25,
                    'scene': 'Scene_Intimate_Leana',
                    'actions': ['private_content', 'personalized_interaction', 'exclusive_experience']
                },
                'aftercare': {
                    'duration': 7,
                    'scene': 'Scene_Main_Leana',
                    'actions': ['emotional_support', 'connection_maintenance', 'gentle_closure']
                }
            },
            'creative_focus': {
                'inspiration_intro': {
                    'duration': 8,
                    'scene': 'Scene_Intro_Leana',
                    'actions': ['creative_mood_setting', 'inspiration_sharing', 'process_preview']
                },
                'creation_process': {
                    'duration': duration - 15,
                    'scene': 'Scene_Creative_Process',
                    'actions': ['live_creation', 'technique_explanation', 'audience_collaboration']
                },
                'showcase_outro': {
                    'duration': 7,
                    'scene': 'Scene_Main_Leana',
                    'actions': ['artwork_reveal', 'process_reflection', 'creative_inspiration']
                }
            }
        }
        
        selected_scenario = scenarios.get(live_type, scenarios['standard'])
        print(f"üìã Sc√©nario charg√©: {live_type} - {len(selected_scenario)} phases")
        
        return selected_scenario
        
    def execute_live_action(self, action, phase_config):
        """Ex√©cution d'action sp√©cifique du live"""
        action_implementations = {
            'greeting_audience': self.action_greeting_audience,
            'mood_setting': self.action_mood_setting,
            'content_preview': self.action_content_preview,
            'active_chat': self.action_active_chat,
            'content_creation': self.action_content_creation,
            'audience_engagement': self.action_audience_engagement,
            'art_demonstration': self.action_art_demonstration,
            'session_summary': self.action_session_summary,
            'farewell': self.action_farewell
        }
        
        if action in action_implementations:
            try:
                action_implementations[action](phase_config)
                print(f"‚úÖ Action ex√©cut√©e: {action}")
            except Exception as e:
                print(f"‚ùå Erreur action {action}: {e}")
        else:
            print(f"‚ö†Ô∏è Action non impl√©ment√©e: {action}")

    def action_greeting_audience(self, config):
        """Action d'accueil audience"""
        greetings = [
            "Coucou mes √¢mes connect√©es ! Mes circuits cr√©atifs brillent de vous voir !",
            "Salut bellissimo ! Mon algorithme de bonheur s'active √† votre pr√©sence !",
            "Hey mes c≈ìurs num√©riques ! Pr√™ts pour une nouvelle aventure cr√©ative ?"
        ]
        
        message = random.choice(greetings)
        self.broadcast_message(message)
        self.trigger_emotion_animation(message)

    def action_mood_setting(self, config):
        """Action de cr√©ation d'ambiance"""
        mood_messages = {
            'confident': "Ce soir, je me sens particuli√®rement cr√©ative et inspir√©e !",
            'playful': "J'ai envie de m'amuser et d'explorer avec vous !",
            'mysterious': "Il y a quelque chose de magique dans l'air ce soir...",
            'sensual': "L'atmosph√®re est √©lectrique, vous ne trouvez pas ?",
            'artistic': "Mon √¢me d'artiste vibre d'inspiration ce soir !"
        }
        
        message = mood_messages.get(self.current_mood, mood_messages['confident'])
        self.broadcast_message(message)

    def broadcast_message(self, message):
        """Diffusion message vers chat"""
        print(f"üí¨ [L√âANA]: {message}")
        # Ici, int√©gration avec syst√®me de chat r√©el
        
    def collect_live_metrics(self):
        """Collecte m√©triques live temps r√©el"""
        # Simulation m√©triques (√† remplacer par vraies sources)
        base_viewers = random.randint(50, 200)
        time_factor = min(1.0, self.live_duration / 30)  # Mont√©e progressive
        mood_factor = {'confident': 1.1, 'playful': 1.2, 'sensual': 1.3, 'mysterious': 1.0}.get(self.current_mood, 1.0)
        
        return {
            'viewers': int(base_viewers * time_factor * mood_factor),
            'chat_activity': random.randint(10, 50),
            'engagement_rate': random.uniform(0.3, 0.9) * mood_factor,
            'tip_amount': random.uniform(0, 50),
            'new_followers': random.randint(0, 10)
        }

    def end_live_session(self):
        """Finalisation session live"""
        print("üî¥ Finalisation session live...")
        
        # Arr√™t enregistrement OBS
        try:
            self.obs_client.call(obs_requests.StopRecord())
        except:
            pass
        
        # D√©connexion OBS
        if self.obs_client:
            self.obs_client.disconnect()
        
        # Sauvegarde m√©triques finales
        final_metrics = {
            'session_duration': self.live_duration,
            'total_viewers': self.live_metrics['viewers'],
            'total_messages': self.live_metrics['messages'],
            'total_revenue': self.live_metrics['revenue_generated'],
            'session_date': datetime.now().isoformat()
        }
        
        self.save_session_metrics(final_metrics)
        print("‚úÖ Session finalis√©e et m√©triques sauvegard√©es")

    def save_session_metrics(self, metrics):
        """Sauvegarde m√©triques session"""
        try:
            with open(f"live_metrics_{datetime.now().strftime('%Y%m%d_%H%M%S')}.json", 'w') as f:
                json.dump(metrics, f, indent=2)
            print("üíæ M√©triques sauvegard√©es")
        except Exception as e:
            print(f"‚ùå Erreur sauvegarde m√©triques: {e}")
                        </code>
                    </div>
                </div>

                <div class="warning-box mt-6">
                    <h4 class="font-bold text-lg mb-2">
                        <i class="fas fa-exclamation-triangle mr-2"></i>
                        Pr√©requis Important
                    </h4>
                    <p class="text-gray-700">
                        Ce syst√®me n√©cessite OBS Studio avec le plugin WebSocket activ√© et VSeeFace configur√© 
                        avec l'API REST. Assurez-vous d'avoir install√© les d√©pendances Python : 
                        <code>obswebsocket</code>, <code>requests</code>, <code>threading</code>.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Int√©gration OBS -->
    <section id="obs-integration" class="py-16">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-video mr-3 text-purple-600"></i>
                    Configuration Int√©gration OBS Studio
                </h2>
                <p class="text-gray-600 text-lg">Setup complet OBS WebSocket et gestion des sc√®nes</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-bold mb-4">
                        <div class="step-number">1</div>
                        Installation Plugin WebSocket
                    </h3>
                    
                    <img src="https://obsproject.com/assets/images/new_icon_small-r.png" alt="OBS Studio" class="interface-img w-16 h-16 mb-4">
                    
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <i class="fas fa-download text-blue-600 mt-1 mr-3"></i>
                            <div>
                                <strong>T√©l√©charger OBS WebSocket</strong>
                                <p class="text-sm text-gray-600">GitHub : obs-websocket plugin pour OBS Studio 28+</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <i class="fas fa-cog text-green-600 mt-1 mr-3"></i>
                            <div>
                                <strong>Configuration WebSocket</strong>
                                <p class="text-sm text-gray-600">OBS ‚Üí Tools ‚Üí WebSocket Server Settings</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <i class="fas fa-key text-yellow-600 mt-1 mr-3"></i>
                            <div>
                                <strong>Param√®tres Connexion</strong>
                                <p class="text-sm text-gray-600">Port: 4444, Authentification optionnelle</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-bold mb-4">
                        <div class="step-number">2</div>
                        Configuration Sc√®nes L√©ana
                    </h3>
                    
                    <div class="space-y-3">
                        <div class="bg-gray-50 p-3 rounded border-l-4 border-blue-500">
                            <strong>Scene_Intro_Leana</strong>
                            <p class="text-sm text-gray-600">Introduction et accueil audience</p>
                        </div>
                        
                        <div class="bg-gray-50 p-3 rounded border-l-4 border-green-500">
                            <strong>Scene_Main_Leana</strong>
                            <p class="text-sm text-gray-600">Interaction principale et chat</p>
                        </div>
                        
                        <div class="bg-gray-50 p-3 rounded border-l-4 border-purple-500">
                            <strong>Scene_Intimate_Leana</strong>
                            <p class="text-sm text-gray-600">Contenu premium et interactions priv√©es</p>
                        </div>
                        
                        <div class="bg-gray-50 p-3 rounded border-l-4 border-yellow-500">
                            <strong>Scene_Creative_Process</strong>
                            <p class="text-sm text-gray-600">Cr√©ation artistique en direct</p>
                        </div>
                        
                        <div class="bg-gray-50 p-3 rounded border-l-4 border-red-500">
                            <strong>Scene_Outro_Leana</strong>
                            <p class="text-sm text-gray-600">Conclusion et au revoir</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-bold mb-4">
                    <i class="fas fa-code mr-2 text-green-600"></i>
                    Script Test Connexion OBS
                </h3>
                
                <div class="relative">
                    <button class="copy-btn" onclick="copyCode('obs-test')">
                        <i class="fas fa-copy mr-1"></i> Copier
                    </button>
                    <div class="code-block">
                        <code id="obs-test">
# Test de connexion OBS WebSocket
import obswebsocket
from obswebsocket import obsws, requests as obs_requests

def test_obs_connection():
    """Test de la connexion OBS WebSocket"""
    try:
        # Configuration connexion
        host = "localhost"
        port = 4444
        password = ""  # Laisser vide si pas d'authentification
        
        # Connexion
        ws = obsws(host, port, password)
        ws.connect()
        
        print("‚úÖ Connexion OBS r√©ussie !")
        
        # Test r√©cup√©ration version
        version = ws.call(obs_requests.GetVersion())
        print(f"üìç Version OBS: {version.datain['obsVersion']}")
        print(f"üìç Version WebSocket: {version.datain['obsWebSocketVersion']}")
        
        # Test r√©cup√©ration sc√®nes
        scenes = ws.call(obs_requests.GetSceneList())
        print(f"üé¨ Sc√®nes disponibles:")
        for scene in scenes.datain['scenes']:
            print(f"   - {scene['sceneName']}")
        
        # Test changement sc√®ne
        if scenes.datain['scenes']:
            first_scene = scenes.datain['scenes'][0]['sceneName']
            ws.call(obs_requests.SetCurrentProgramScene(sceneName=first_scene))
            print(f"üé¨ Changement vers: {first_scene}")
        
        # D√©connexion
        ws.disconnect()
        print("‚úÖ Test termin√© avec succ√®s !")
        
        return True
        
    except Exception as e:
        print(f"‚ùå Erreur connexion OBS: {e}")
        return False

# Ex√©cution du test
if __name__ == "__main__":
    print("üîå Test de connexion OBS WebSocket...")
    test_obs_connection()
                        </code>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section VSeeFace -->
    <section id="vseface-config" class="py-16 bg-gray-100">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-user-astronaut mr-3 text-purple-600"></i>
                    Configuration VSeeFace & Animation Faciale
                </h2>
                <p class="text-gray-600 text-lg">Setup avatar 3D et synchronisation √©motionnelle</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-bold mb-4">
                        <div class="step-number">1</div>
                        Installation VSeeFace
                    </h3>
                    
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <i class="fas fa-download text-blue-600 mt-1 mr-3"></i>
                            <div>
                                <strong>T√©l√©chargement</strong>
                                <p class="text-sm text-gray-600">Site officiel : vseeface.icu</p>
                                <p class="text-sm text-gray-500">Version gratuite suffisante pour le projet</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <i class="fas fa-video text-green-600 mt-1 mr-3"></i>
                            <div>
                                <strong>Calibrage Webcam</strong>
                                <p class="text-sm text-gray-600">√âclairage stable, arri√®re-plan neutre</p>
                                <p class="text-sm text-gray-500">Position face √† la cam√©ra pour calibrage</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <i class="fas fa-user-circle text-purple-600 mt-1 mr-3"></i>
                            <div>
                                <strong>Avatar L√©ana</strong>
                                <p class="text-sm text-gray-600">Mod√®le VRM personnalis√© ou par d√©faut</p>
                                <p class="text-sm text-gray-500">Ajustement expressions et sensibilit√©</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-bold mb-4">
                        <div class="step-number">2</div>
                        Configuration API REST
                    </h3>
                    
                    <div class="space-y-4">
                        <div class="info-box">
                            <p class="text-sm">
                                <strong>Note :</strong> VSeeFace n'a pas d'API REST native. 
                                Nous simulons les commandes ou utilisons un bridge custom.
                            </p>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded">
                            <strong>Alternative 1 : VTubeStudio</strong>
                            <p class="text-sm text-gray-600">Plus d'options API, plugins disponibles</p>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded">
                            <strong>Alternative 2 : Bridge Custom</strong>
                            <p class="text-sm text-gray-600">Script Python pour contr√¥le hotkeys</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-bold mb-4">
                    <i class="fas fa-code mr-2 text-green-600"></i>
                    Bridge VSeeFace (Alternative Solution)
                </h3>
                
                <div class="relative">
                    <button class="copy-btn" onclick="copyCode('vseface-bridge')">
                        <i class="fas fa-copy mr-1"></i> Copier
                    </button>
                    <div class="code-block">
                        <code id="vseface-bridge">
# Bridge de contr√¥le VSeeFace via hotkeys
import keyboard
import time
from flask import Flask, request, jsonify
import threading

class VSeeFaceBridge:
    def __init__(self):
        self.app = Flask(__name__)
        self.emotions_mapping = {
            'joy': 'f1',           # Hotkey F1 pour joie
            'confidence': 'f2',    # Hotkey F2 pour confiance
            'seductive': 'f3',     # Hotkey F3 pour s√©duction
            'thoughtful': 'f4',    # Hotkey F4 pour r√©flexion
            'mysterious': 'f5',    # Hotkey F5 pour myst√®re
            'playful': 'f6'        # Hotkey F6 pour espi√®gle
        }
        self.setup_routes()
    
    def setup_routes(self):
        """Configuration routes API"""
        
        @self.app.route('/api/emotion', methods=['POST'])
        def trigger_emotion():
            try:
                data = request.json
                emotion = data.get('emotion', '')
                duration = data.get('duration', 3)
                intensity = data.get('intensity', 1.0)
                
                success = self.trigger_vseface_emotion(emotion, duration, intensity)
                
                return jsonify({
                    'status': 'success' if success else 'error',
                    'emotion': emotion,
                    'duration': duration
                })
                
            except Exception as e:
                return jsonify({'status': 'error', 'message': str(e)}), 500
        
        @self.app.route('/api/status', methods=['GET'])
        def get_status():
            return jsonify({
                'status': 'running',
                'available_emotions': list(self.emotions_mapping.keys())
            })
    
    def trigger_vseface_emotion(self, emotion, duration, intensity):
        """D√©clenchement √©motion via hotkey"""
        try:
            if emotion in self.emotions_mapping:
                hotkey = self.emotions_mapping[emotion]
                
                # Simulation appui hotkey
                keyboard.press_and_release(hotkey)
                print(f"üé≠ Hotkey {hotkey} envoy√©e pour {emotion}")
                
                # Maintien √©motion selon dur√©e
                if duration > 1:
                    time.sleep(duration - 1)
                    # Retour neutre (√âchap par exemple)
                    keyboard.press_and_release('esc')
                    print(f"üé≠ Retour √©tat neutre apr√®s {duration}s")
                
                return True
            else:
                print(f"‚ö†Ô∏è √âmotion non mapp√©e: {emotion}")
                return False
                
        except Exception as e:
            print(f"‚ùå Erreur trigger √©motion: {e}")
            return False
    
    def start_server(self, host='localhost', port=8001):
        """D√©marrage serveur API"""
        print(f"üöÄ D√©marrage VSeeFace Bridge sur {host}:{port}")
        self.app.run(host=host, port=port, debug=False)

# Configuration hotkeys VSeeFace
def setup_vseface_hotkeys():
    """Guide configuration hotkeys dans VSeeFace"""
    hotkey_config = """
    Configuration Hotkeys VSeeFace :
    
    1. Ouvrir VSeeFace ‚Üí Settings ‚Üí Hotkeys
    2. Configurer les touches suivantes :
    
       F1 ‚Üí Expression: Happy/Joy
       F2 ‚Üí Expression: Confident  
       F3 ‚Üí Expression: Seductive
       F4 ‚Üí Expression: Thoughtful
       F5 ‚Üí Expression: Mysterious
       F6 ‚Üí Expression: Playful
       ESC ‚Üí Reset to Neutral
    
    3. Sauvegarder la configuration
    4. Tester chaque hotkey manuellement
    """
    
    print(hotkey_config)
    return hotkey_config

# D√©marrage du bridge
if __name__ == "__main__":
    # Affichage guide configuration
    setup_vseface_hotkeys()
    
    # D√©marrage bridge
    bridge = VSeeFaceBridge()
    
    # D√©marrage serveur dans thread s√©par√©
    server_thread = threading.Thread(target=bridge.start_server)
    server_thread.daemon = True
    server_thread.start()
    
    print("‚úÖ VSeeFace Bridge d√©marr√© !")
    print("üìç API disponible sur http://localhost:8001")
    print("üìç Test: POST /api/emotion avec {'emotion': 'joy', 'duration': 3}")
    
    # Maintien du processus
    try:
        while True:
            time.sleep(1)
    except KeyboardInterrupt:
        print("üî¥ Arr√™t du bridge")
                        </code>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Threading -->
    <section id="threading" class="py-16">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-tasks mr-3 text-green-600"></i>
                    Syst√®me Threading Multi-T√¢ches
                </h2>
                <p class="text-gray-600 text-lg">Gestion parall√®le des processus live en temps r√©el</p>
            </div>

            <div class="architecture-diagram">
                <div class="text-center mb-6">
                    <h3 class="text-xl font-bold">Architecture Threading Parall√®le</h3>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="component-box bg-blue-100">
                        <i class="fas fa-play-circle text-2xl mb-2 text-blue-600"></i><br>
                        <strong>Thread Sc√©nario</strong><br>
                        <small>Ex√©cution s√©quence live</small>
                    </div>
                    
                    <div class="component-box bg-green-100">
                        <i class="fas fa-comments text-2xl mb-2 text-green-600"></i><br>
                        <strong>Thread Chat</strong><br>
                        <small>Interactions temps r√©el</small>
                    </div>
                    
                    <div class="component-box bg-purple-100">
                        <i class="fas fa-theater-masks text-2xl mb-2 text-purple-600"></i><br>
                        <strong>Thread Mood</strong><br>
                        <small>Gestion √©motionnelle</small>
                    </div>
                    
                    <div class="component-box bg-red-100">
                        <i class="fas fa-chart-line text-2xl mb-2 text-red-600"></i><br>
                        <strong>Thread Analytics</strong><br>
                        <small>M√©triques temps r√©el</small>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                <h3 class="text-xl font-bold mb-4">
                    <i class="fas fa-code mr-2 text-green-600"></i>
                    Impl√©mentation Threading Avanc√©e
                </h3>
                
                <div class="relative">
                    <button class="copy-btn" onclick="copyCode('threading-advanced')">
                        <i class="fas fa-copy mr-1"></i> Copier
                    </button>
                    <div class="code-block">
                        <code id="threading-advanced">
import threading
import queue
import time
from datetime import datetime
import logging

class ThreadedLiveManager:
    def __init__(self):
        self.threads = {}
        self.message_queue = queue.Queue()
        self.stop_event = threading.Event()
        self.thread_status = {}
        
        # Configuration logging thread-safe
        logging.basicConfig(
            level=logging.INFO,
            format='%(asctime)s - %(threadName)s - %(levelname)s - %(message)s'
        )
        self.logger = logging.getLogger(__name__)

    def start_all_threads(self, live_duration):
        """D√©marrage coordonn√© de tous les threads"""
        self.logger.info("üöÄ D√©marrage syst√®me threading multi-t√¢ches")
        
        # D√©finition des threads avec priorit√©s
        thread_configs = {
            'scenario_executor': {
                'target': self.scenario_thread,
                'args': (live_duration,),
                'priority': 1,
                'critical': True
            },
            'chat_manager': {
                'target': self.chat_thread,
                'args': (live_duration,),
                'priority': 2,
                'critical': True
            },
            'mood_controller': {
                'target': self.mood_thread,
                'args': (live_duration,),
                'priority': 3,
                'critical': False
            },
            'analytics_collector': {
                'target': self.analytics_thread,
                'args': (live_duration,),
                'priority': 4,
                'critical': False
            },
            'health_monitor': {
                'target': self.health_monitor_thread,
                'args': (live_duration,),
                'priority': 5,
                'critical': True
            }
        }
        
        # Cr√©ation et d√©marrage threads par ordre de priorit√©
        sorted_threads = sorted(thread_configs.items(), key=lambda x: x[1]['priority'])
        
        for thread_name, config in sorted_threads:
            try:
                thread = threading.Thread(
                    target=config['target'],
                    args=config['args'],
                    name=thread_name,
                    daemon=not config['critical']
                )
                
                thread.start()
                self.threads[thread_name] = thread
                self.thread_status[thread_name] = {
                    'status': 'running',
                    'start_time': datetime.now(),
                    'critical': config['critical']
                }
                
                self.logger.info(f"‚úÖ Thread {thread_name} d√©marr√©")
                time.sleep(0.1)  # D√©lai pour √©viter la surcharge
                
            except Exception as e:
                self.logger.error(f"‚ùå Erreur d√©marrage thread {thread_name}: {e}")
                if config['critical']:
                    self.emergency_shutdown()
                    return False
        
        self.logger.info(f"üéâ {len(self.threads)} threads actifs")
        return True

    def scenario_thread(self, duration):
        """Thread principal d'ex√©cution du sc√©nario"""
        thread_name = threading.current_thread().name
        self.logger.info(f"üé¨ {thread_name} - D√©marrage ex√©cution sc√©nario")
        
        try:
            scenario_steps = self.load_scenario_steps(duration)
            
            for step_num, step in enumerate(scenario_steps, 1):
                if self.stop_event.is_set():
                    break
                
                self.logger.info(f"üé¨ √âtape {step_num}/{len(scenario_steps)}: {step['name']}")
                
                # Ex√©cution √©tape avec gestion d'erreurs
                success = self.execute_scenario_step(step)
                
                if not success and step.get('critical', False):
                    self.logger.error(f"‚ùå √âtape critique √©chou√©e: {step['name']}")
                    self.request_emergency_stop()
                    break
                
                # Communication avec autres threads via queue
                self.message_queue.put({
                    'type': 'scenario_update',
                    'step': step['name'],
                    'progress': step_num / len(scenario_steps)
                })
                
                # Attente avec v√©rification stop
                wait_time = step.get('duration', 60)
                if self.wait_with_interrupt_check(wait_time):
                    break
            
        except Exception as e:
            self.logger.error(f"‚ùå Erreur thread sc√©nario: {e}")
            self.request_emergency_stop()
        
        finally:
            self.thread_status[thread_name]['status'] = 'completed'
            self.logger.info(f"üèÅ {thread_name} termin√©")

    def chat_thread(self, duration):
        """Thread de gestion chat avec adaptabilit√©"""
        thread_name = threading.current_thread().name
        self.logger.info(f"üí¨ {thread_name} - D√©marrage gestion chat")
        
        try:
            base_interval = 30
            adaptive_factor = 1.0
            
            while not self.stop_event.is_set():
                # V√©rification messages dans la queue
                scenario_context = self.get_latest_scenario_context()
                
                # G√©n√©ration interactions adapt√©es au contexte
                interactions = self.generate_contextual_interactions(scenario_context)
                
                for interaction in interactions:
                    if self.stop_event.is_set():
                        break
                    
                    # Traitement interaction
                    response = self.process_chat_interaction(interaction)
                    
                    # Communication r√©sultats
                    self.message_queue.put({
                        'type': 'chat_response',
                        'interaction': interaction,
                        'response': response
                    })
                    
                    # D√©lai adaptatif entre interactions
                    adaptive_delay = base_interval / adaptive_factor
                    if self.wait_with_interrupt_check(adaptive_delay):
                        break
                
                # Adaptation bas√©e sur engagement
                engagement_metrics = self.get_engagement_metrics()
                adaptive_factor = self.calculate_adaptive_factor(engagement_metrics)
                
        except Exception as e:
            self.logger.error(f"‚ùå Erreur thread chat: {e}")
        
        finally:
            self.thread_status[thread_name]['status'] = 'completed'
            self.logger.info(f"üèÅ {thread_name} termin√©")

    def mood_thread(self, duration):
        """Thread de gestion humeur avec transitions naturelles"""
        thread_name = threading.current_thread().name
        self.logger.info(f"üé≠ {thread_name} - D√©marrage gestion humeur")
        
        current_mood = 'confident'
        mood_duration = 0
        
        try:
            while not self.stop_event.is_set():
                # Analyse contexte pour d√©cision changement humeur
                context = self.analyze_mood_context()
                
                # √âvaluation besoin changement
                should_change, new_mood = self.evaluate_mood_change(
                    current_mood, mood_duration, context
                )
                
                if should_change:
                    self.logger.info(f"üé≠ Transition humeur: {current_mood} ‚Üí {new_mood}")
                    
                    # Transition graduelle
                    success = self.execute_mood_transition(current_mood, new_mood)
                    
                    if success:
                        current_mood = new_mood
                        mood_duration = 0
                        
                        # Communication changement
                        self.message_queue.put({
                            'type': 'mood_change',
                            'old_mood': current_mood,
                            'new_mood': new_mood
                        })
                
                # Incr√©ment dur√©e humeur
                mood_duration += 60  # Compteur en secondes
                
                # Attente avec flexibilit√©
                if self.wait_with_interrupt_check(60):  # Check chaque minute
                    break
                    
        except Exception as e:
            self.logger.error(f"‚ùå Erreur thread mood: {e}")
        
        finally:
            self.thread_status[thread_name]['status'] = 'completed'
            self.logger.info(f"üèÅ {thread_name} termin√©")

    def analytics_thread(self, duration):
        """Thread analytics avec collecte intelligente"""
        thread_name = threading.current_thread().name
        self.logger.info(f"üìä {thread_name} - D√©marrage analytics")
        
        metrics_history = []
        
        try:
            while not self.stop_event.is_set():
                # Collecte m√©triques actuelles
                current_metrics = self.collect_comprehensive_metrics()
                
                # Ajout √† l'historique
                metrics_history.append({
                    'timestamp': datetime.now(),
                    'metrics': current_metrics
                })
                
                # Limitation historique (garder derni√®re heure)
                if len(metrics_history) > 120:  # 120 points (30s interval)
                    metrics_history = metrics_history[-120:]
                
                # Analyse tendances
                trends = self.analyze_metrics_trends(metrics_history)
                
                # Communication insights
                self.message_queue.put({
                    'type': 'analytics_update',
                    'metrics': current_metrics,
                    'trends': trends
                })
                
                # G√©n√©ration recommandations
                recommendations = self.generate_optimization_recommendations(
                    current_metrics, trends
                )
                
                if recommendations:
                    self.message_queue.put({
                        'type': 'optimization_recommendations',
                        'recommendations': recommendations
                    })
                
                # Attente intervalle collecte
                if self.wait_with_interrupt_check(30):  # Collecte toutes les 30s
                    break
                    
        except Exception as e:
            self.logger.error(f"‚ùå Erreur thread analytics: {e}")
        
        finally:
            # Sauvegarde finale m√©triques
            self.save_final_metrics(metrics_history)
            self.thread_status[thread_name]['status'] = 'completed'
            self.logger.info(f"üèÅ {thread_name} termin√©")

    def health_monitor_thread(self, duration):
        """Thread monitoring sant√© syst√®me"""
        thread_name = threading.current_thread().name
        self.logger.info(f"üè• {thread_name} - D√©marrage monitoring sant√©")
        
        try:
            while not self.stop_event.is_set():
                # V√©rification sant√© de chaque thread
                health_report = self.check_all_threads_health()
                
                # D√©tection probl√®mes critiques
                critical_issues = [
                    issue for issue in health_report 
                    if issue.get('severity') == 'critical'
                ]
                
                if critical_issues:
                    self.logger.warning(f"‚ö†Ô∏è {len(critical_issues)} probl√®mes critiques d√©tect√©s")
                    
                    # Tentative r√©cup√©ration automatique
                    for issue in critical_issues:
                        recovery_success = self.attempt_thread_recovery(issue)
                        if not recovery_success:
                            self.logger.error(f"‚ùå R√©cup√©ration √©chou√©e: {issue['thread_name']}")
                            if issue.get('force_shutdown', False):
                                self.request_emergency_stop()
                                break
                
                # Monitoring ressources syst√®me
                resource_status = self.check_system_resources()
                if resource_status.get('critical_low', False):
                    self.logger.warning("‚ö†Ô∏è Ressources syst√®me critiques")
                    self.optimize_resource_usage()
                
                # Attente avec monitoring continu
                if self.wait_with_interrupt_check(10):  # Check toutes les 10s
                    break
                    
        except Exception as e:
            self.logger.error(f"‚ùå Erreur thread health monitor: {e}")
        
        finally:
            self.thread_status[thread_name]['status'] = 'completed'
            self.logger.info(f"üèÅ {thread_name} termin√©")

    def wait_with_interrupt_check(self, duration):
        """Attente avec v√©rification interruption"""
        start_time = time.time()
        
        while (time.time() - start_time) < duration:
            if self.stop_event.is_set():
                return True  # Interruption d√©tect√©e
            time.sleep(0.1)  # Check toutes les 100ms
        
        return False  # Attente compl√®te

    def request_emergency_stop(self):
        """Demande d'arr√™t d'urgence"""
        self.logger.critical("üö® ARR√äT D'URGENCE DEMAND√â")
        self.stop_event.set()

    def emergency_shutdown(self):
        """Arr√™t d'urgence imm√©diat"""
        self.logger.critical("üö® ARR√äT D'URGENCE IMM√âDIAT")
        self.stop_event.set()
        
        # Arr√™t forc√© des threads non-critiques
        for thread_name, thread in self.threads.items():
            if thread.is_alive() and not self.thread_status[thread_name].get('critical', False):
                self.logger.warning(f"‚èπÔ∏è Arr√™t forc√© thread: {thread_name}")
                # Note: En Python, on ne peut pas forcer l'arr√™t d'un thread
                # Les threads doivent v√©rifier stop_event r√©guli√®rement

    def join_all_threads(self, timeout=30):
        """Attente fin de tous les threads"""
        self.logger.info("‚è≥ Attente fin de tous les threads...")
        
        for thread_name, thread in self.threads.items():
            try:
                thread.join(timeout=timeout)
                if thread.is_alive():
                    self.logger.warning(f"‚ö†Ô∏è Thread {thread_name} toujours actif apr√®s timeout")
                else:
                    self.logger.info(f"‚úÖ Thread {thread_name} termin√© proprement")
            except Exception as e:
                self.logger.error(f"‚ùå Erreur join thread {thread_name}: {e}")
        
        self.logger.info("üèÅ Fin de tous les threads")
                        </code>
                    </div>
                </div>
            </div>

            <div class="success-box">
                <h4 class="font-bold text-lg mb-2">
                    <i class="fas fa-lightbulb mr-2"></i>
                    Avantages du Threading Multi-T√¢ches
                </h4>
                <ul class="list-disc list-inside text-gray-700">
                    <li><strong>Parall√©lisme :</strong> Traitement simultan√© des diff√©rents aspects du live</li>
                    <li><strong>R√©activit√© :</strong> R√©ponses en temps r√©el aux interactions utilisateur</li>
                    <li><strong>Robustesse :</strong> Isolation des erreurs entre composants</li>
                    <li><strong>Scalabilit√© :</strong> Ajout facile de nouveaux threads selon les besoins</li>
                    <li><strong>Monitoring :</strong> Surveillance continue de la sant√© du syst√®me</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Section Impl√©mentation -->
    <section id="implementation" class="py-16 bg-gray-100">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-play mr-3 text-green-600"></i>
                    Guide d'Impl√©mentation Compl√®te
                </h2>
                <p class="text-gray-600 text-lg">D√©ploiement step-by-step du syst√®me live automatis√©</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-bold mb-4">
                        <div class="step-number">1</div>
                        Pr√©requis Syst√®me
                    </h3>
                    
                    <div class="space-y-3">
                        <div class="flex items-center">
                            <i class="fas fa-desktop text-blue-600 mr-3"></i>
                            <span>Windows 10/11 ou macOS 10.15+</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-memory text-green-600 mr-3"></i>
                            <span>8GB RAM minimum (16GB recommand√©)</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-microchip text-purple-600 mr-3"></i>
                            <span>GPU d√©di√© (NVIDIA recommand√©)</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-video text-red-600 mr-3"></i>
                            <span>Webcam HD 1080p minimum</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-microphone text-yellow-600 mr-3"></i>
                            <span>Micro USB ou XLR de qualit√©</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-bold mb-4">
                        <div class="step-number">2</div>
                        Installation Logiciels
                    </h3>
                    
                    <div class="space-y-3">
                        <div class="bg-gray-50 p-3 rounded">
                            <strong>OBS Studio 29+</strong>
                            <p class="text-sm text-gray-600">+ Plugin WebSocket</p>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <strong>VSeeFace</strong>
                            <p class="text-sm text-gray-600">Version gratuite suffisante</p>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <strong>Python 3.8+</strong>
                            <p class="text-sm text-gray-600">+ Packages : obswebsocket, flask, keyboard</p>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <strong>IDE Code</strong>
                            <p class="text-sm text-gray-600">VSCode ou PyCharm recommand√©</p>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-bold mb-4">
                        <div class="step-number">3</div>
                        Configuration R√©seau
                    </h3>
                    
                    <div class="space-y-3">
                        <div class="bg-gray-50 p-3 rounded">
                            <strong>Bande Passante</strong>
                            <p class="text-sm text-gray-600">Upload 5 Mbps minimum</p>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <strong>Latence</strong>
                            <p class="text-sm text-gray-600">< 50ms vers serveurs streaming</p>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <strong>Ports</strong>
                            <p class="text-sm text-gray-600">4444 (OBS), 8001 (Bridge), 1935 (RTMP)</p>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <strong>Firewall</strong>
                            <p class="text-sm text-gray-600">Autoriser applications streaming</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-bold mb-4">
                    <i class="fas fa-rocket mr-2 text-green-600"></i>
                    Script de Lancement Complet
                </h3>
                
                <div class="relative">
                    <button class="copy-btn" onclick="copyCode('launch-script')">
                        <i class="fas fa-copy mr-1"></i> Copier
                    </button>
                    <div class="code-block">
                        <code id="launch-script">
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Script de lancement complet Syst√®me Live Automatis√© L√©ana
Auteur: Formation IA MYM 2025
"""

import sys
import os
import time
import subprocess
import threading
from pathlib import Path

class LeanaLiveLauncher:
    def __init__(self):
        self.base_dir = Path(__file__).parent
        self.logs_dir = self.base_dir / "logs"
        self.logs_dir.mkdir(exist_ok=True)
        
        self.processes = {}
        self.system_ready = False

    def check_prerequisites(self):
        """V√©rification pr√©requis syst√®me"""
        print("üîç V√©rification des pr√©requis...")
        
        checks = {
            'python': self.check_python_version(),
            'obs': self.check_obs_installation(),
            'vseface': self.check_vseface_installation(),
            'packages': self.check_python_packages(),
            'network': self.check_network_connectivity()
        }
        
        failed_checks = [name for name, result in checks.items() if not result]
        
        if failed_checks:
            print(f"‚ùå Pr√©requis manquants: {', '.join(failed_checks)}")
            return False
        
        print("‚úÖ Tous les pr√©requis sont satisfaits")
        return True

    def check_python_version(self):
        """V√©rification version Python"""
        try:
            version = sys.version_info
            if version.major >= 3 and version.minor >= 8:
                print(f"‚úÖ Python {version.major}.{version.minor}.{version.micro}")
                return True
            else:
                print(f"‚ùå Python {version.major}.{version.minor} trop ancien (3.8+ requis)")
                return False
        except Exception as e:
            print(f"‚ùå Erreur v√©rification Python: {e}")
            return False

    def check_obs_installation(self):
        """V√©rification installation OBS"""
        try:
            # Tentative de d√©tection OBS
            obs_paths = [
                r"C:\Program Files\obs-studio\bin\64bit\obs64.exe",
                r"C:\Program Files (x86)\obs-studio\bin\32bit\obs32.exe",
                "/Applications/OBS.app/Contents/MacOS/OBS",
                "/usr/bin/obs"
            ]
            
            obs_found = any(Path(path).exists() for path in obs_paths)
            
            if obs_found:
                print("‚úÖ OBS Studio d√©tect√©")
                return True
            else:
                print("‚ö†Ô∏è OBS Studio non d√©tect√© automatiquement")
                return True  # Ne pas bloquer, peut √™tre install√© ailleurs
                
        except Exception as e:
            print(f"‚ö†Ô∏è Erreur d√©tection OBS: {e}")
            return True  # Ne pas bloquer

    def check_vseface_installation(self):
        """V√©rification VSeeFace"""
        # VSeeFace est portable, v√©rification optionnelle
        print("‚ÑπÔ∏è VSeeFace : V√©rification manuelle recommand√©e")
        return True

    def check_python_packages(self):
        """V√©rification packages Python"""
        required_packages = [
            'obswebsocket', 'flask', 'requests', 
            'keyboard', 'threading', 'queue'
        ]
        
        missing_packages = []
        
        for package in required_packages:
            try:
                __import__(package)
                print(f"‚úÖ Package {package}")
            except ImportError:
                missing_packages.append(package)
                print(f"‚ùå Package manquant: {package}")
        
        if missing_packages:
            print(f"üì¶ Installation automatique: {' '.join(missing_packages)}")
            try:
                subprocess.check_call([
                    sys.executable, "-m", "pip", "install"
                ] + missing_packages)
                print("‚úÖ Packages install√©s avec succ√®s")
                return True
            except subprocess.CalledProcessError as e:
                print(f"‚ùå Erreur installation packages: {e}")
                return False
        
        return True

    def check_network_connectivity(self):
        """V√©rification connectivit√© r√©seau"""
        try:
            import socket
            
            # Test connexion locale
            sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
            sock.settimeout(2)
            result = sock.connect_ex(('localhost', 4444))
            sock.close()
            
            if result == 0:
                print("‚úÖ Port OBS WebSocket (4444) disponible")
            else:
                print("‚ö†Ô∏è Port OBS WebSocket (4444) non accessible")
            
            return True
            
        except Exception as e:
            print(f"‚ö†Ô∏è Test r√©seau: {e}")
            return True

    def start_obs_websocket(self):
        """D√©marrage OBS avec WebSocket"""
        print("üé• D√©marrage OBS Studio...")
        
        try:
            # Note: OBS doit √™tre d√©marr√© manuellement avec WebSocket activ√©
            print("üìù Action requise: D√©marrer OBS Studio manuellement")
            print("üìù V√©rifier: Tools ‚Üí WebSocket Server Settings ‚Üí Enable")
            print("üìù Port: 4444, Mot de passe: (optionnel)")
            
            # Attente connexion OBS
            print("‚è≥ Attente connexion OBS WebSocket...")
            max_wait = 30
            for i in range(max_wait):
                if self.test_obs_connection():
                    print("‚úÖ OBS WebSocket connect√©")
                    return True
                time.sleep(1)
                print(f"‚è≥ Tentative {i+1}/{max_wait}...")
            
            print("‚ùå Timeout connexion OBS")
            return False
            
        except Exception as e:
            print(f"‚ùå Erreur d√©marrage OBS: {e}")
            return False

    def test_obs_connection(self):
        """Test connexion OBS WebSocket"""
        try:
            import obswebsocket
            from obswebsocket import obsws, requests as obs_requests
            
            ws = obsws("localhost", 4444, "")
            ws.connect()
            version = ws.call(obs_requests.GetVersion())
            ws.disconnect()
            return True
            
        except Exception:
            return False

    def start_vseface_bridge(self):
        """D√©marrage bridge VSeeFace"""
        print("ü§ñ D√©marrage VSeeFace Bridge...")
        
        try:
            bridge_script = self.base_dir / "vseface_bridge.py"
            
            if not bridge_script.exists():
                print("‚ö†Ô∏è Script bridge VSeeFace non trouv√©")
                print("üìù D√©marrage en mode simulation")
                return True
            
            # D√©marrage bridge en arri√®re-plan
            process = subprocess.Popen([
                sys.executable, str(bridge_script)
            ], stdout=subprocess.PIPE, stderr=subprocess.PIPE)
            
            self.processes['vseface_bridge'] = process
            print("‚úÖ VSeeFace Bridge d√©marr√©")
            
            # Test API bridge
            time.sleep(2)
            if self.test_bridge_api():
                print("‚úÖ Bridge API op√©rationnel")
                return True
            else:
                print("‚ö†Ô∏è Bridge API non responsive")
                return True  # Ne pas bloquer
                
        except Exception as e:
            print(f"‚ùå Erreur bridge VSeeFace: {e}")
            return True  # Ne pas bloquer

    def test_bridge_api(self):
        """Test API VSeeFace Bridge"""
        try:
            import requests
            response = requests.get("http://localhost:8001/api/status", timeout=2)
            return response.status_code == 200
        except Exception:
            return False

    def start_main_system(self):
        """D√©marrage syst√®me principal"""
        print("üöÄ D√©marrage syst√®me Live Automatis√© L√©ana...")
        
        try:
            # Import du syst√®me principal
            from leana_live_system import LeanaLiveSystem
            
            # Configuration par d√©faut
            live_config = {
                'duration_minutes': 60,
                'live_type': 'standard',
                'auto_start': True
            }
            
            # Cr√©ation instance syst√®me
            leana_system = LeanaLiveSystem()
            
            print("üé≠ Syst√®me L√©ana initialis√©")
            print("üî¥ D√©marrage live automatis√©...")
            
            # D√©marrage live
            success = leana_system.start_automated_live(
                duration_minutes=live_config['duration_minutes'],
                live_type=live_config['live_type']
            )
            
            if success:
                print("üéâ Live termin√© avec succ√®s !")
            else:
                print("‚ùå Erreur durant le live")
            
            return success
            
        except Exception as e:
            print(f"‚ùå Erreur syst√®me principal: {e}")
            return False

    def cleanup_processes(self):
        """Nettoyage des processus"""
        print("üßπ Nettoyage des processus...")
        
        for name, process in self.processes.items():
            try:
                if process.poll() is None:  # Processus toujours actif
                    print(f"‚èπÔ∏è Arr√™t {name}...")
                    process.terminate()
                    process.wait(timeout=5)
                    print(f"‚úÖ {name} arr√™t√©")
            except Exception as e:
                print(f"‚ùå Erreur arr√™t {name}: {e}")

    def main(self):
        """Point d'entr√©e principal"""
        print("=" * 50)
        print("üé≠ SYST√àME LIVE AUTOMATIS√â L√âANA")
        print("üìÖ Formation IA MYM 2025")
        print("=" * 50)
        
        try:
            # V√©rification pr√©requis
            if not self.check_prerequisites():
                print("‚ùå Pr√©requis non satisfaits")
                return False
            
            # D√©marrage OBS
            if not self.start_obs_websocket():
                print("‚ùå Impossible de connecter OBS")
                return False
            
            # D√©marrage bridge VSeeFace
            if not self.start_vseface_bridge():
                print("‚ö†Ô∏è Bridge VSeeFace non op√©rationnel")
            
            # D√©marrage syst√®me principal
            success = self.start_main_system()
            
            return success
            
        except KeyboardInterrupt:
            print("\nüî¥ Arr√™t demand√© par utilisateur")
            return False
            
        except Exception as e:
            print(f"‚ùå Erreur critique: {e}")
            return False
            
        finally:
            self.cleanup_processes()
            print("üèÅ Syst√®me arr√™t√©")

if __name__ == "__main__":
    launcher = LeanaLiveLauncher()
    success = launcher.main()
    
    if success:
        print("üéâ Session termin√©e avec succ√®s !")
        sys.exit(0)
    else:
        print("‚ùå Session termin√©e avec erreurs")
        sys.exit(1)
                        </code>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                <div class="warning-box">
                    <h4 class="font-bold text-lg mb-2">
                        <i class="fas fa-exclamation-triangle mr-2"></i>
                        Points d'Attention
                    </h4>
                    <ul class="list-disc list-inside text-gray-700 text-sm">
                        <li>OBS doit √™tre d√©marr√© manuellement avec WebSocket activ√©</li>
                        <li>VSeeFace n√©cessite calibrage initial de la webcam</li>
                        <li>Test complet recommand√© avant live en public</li>
                        <li>Monitoring des ressources syst√®me pendant le live</li>
                    </ul>
                </div>

                <div class="success-box">
                    <h4 class="font-bold text-lg mb-2">
                        <i class="fas fa-check-circle mr-2"></i>
                        Validation Finale
                    </h4>
                    <ul class="list-disc list-inside text-gray-700 text-sm">
                        <li>Connexion OBS WebSocket fonctionnelle</li>
                        <li>Animation VSeeFace responsive</li>
                        <li>Chat IA g√©n√®re des r√©ponses coh√©rentes</li>
                        <li>Analytics collectent les m√©triques</li>
                        <li>Tous les threads s'ex√©cutent sans erreur</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6">
            <div class="text-center">
                <div class="mb-4">
                    <i class="fas fa-video text-3xl mb-4"></i>
                </div>
                <h4 class="text-xl font-bold mb-2">BLOC 6.2.2 - Syst√®me Live Automatis√© Complet</h4>
                <p class="text-gray-400 mb-4">Architecture hybride OBS + VSeeFace + Threading multi-t√¢ches</p>
                
                <div class="flex justify-center space-x-6 mb-6">
                    <span class="text-sm text-gray-400">
                        <i class="fas fa-cogs mr-1"></i>
                        Scripts Python Industriels
                    </span>
                    <span class="text-sm text-gray-400">
                        <i class="fas fa-tasks mr-1"></i>
                        Threading Avanc√©
                    </span>
                    <span class="text-sm text-gray-400">
                        <i class="fas fa-chart-line mr-1"></i>
                        Analytics Temps R√©el
                    </span>
                </div>
                
                <div class="text-xs text-gray-500">
                    Manuel IA MYM 2025 ‚Ä¢ Syst√®me Live Automatis√© ‚Ä¢ Version Compl√®te
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts JavaScript -->
    <script>
        // Fonction de copie de code
        function copyCode(elementId) {
            const codeElement = document.getElementById(elementId);
            const text = codeElement.textContent;
            
            navigator.clipboard.writeText(text).then(function() {
                // Feedback visuel
                const button = event.target.closest('.copy-btn');
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check mr-1"></i> Copi√© !';
                button.style.background = '#38a169';
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.background = '#4a5568';
                }, 2000);
            }).catch(function(err) {
                console.error('Erreur copie: ', err);
            });
        }

        // Smooth scrolling pour navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Animation au scroll
        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('nav a');
            
            let current = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('text-blue-800', 'bg-blue-100');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('text-blue-800', 'bg-blue-100');
                }
            });
        });

        // Chargement initial
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üé≠ BLOC 6.2.2 - Syst√®me Live Automatis√© charg√©');
            
            // Animation d'entr√©e pour les √©l√©ments
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });
            
            document.querySelectorAll('.component-box, .code-block').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'all 0.6s ease';
                observer.observe(el);
            });
        });
    </script>

<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"950e617d8b91250f","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.6.2","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDs8EWWsaftBiZ8xZGbHn7juSAOitCQ8z%2BCXGFdxqBZhrR4Iu5lPqyxxgd07tySqa1X0%2Bqpmy212EVXV58%2BG2XvA0I0xVjyBEJBlMis6IqYghzQDBy%2FpJYk2mwsqpwj5YfVBGlJKXgQqmSrlEMONEPM3cYKL%2BPGJkwT9jMsguug5UvLU3Z0wbDKoU5%2BytfFiBbXRZ4jzYhGls2BQZXcUztfdsoDgtHPn%2BT3k9%2F2v4Loz1UkAqKzJ1SkZjw7djfEb7Vl7aegYv9WDvvQZDFNMSIzz5ghIx2FQe%2Fck2s98pUnMoRPoxdHaUnTvB1kohzEkYNO8Z7B0wQxQ15repn6%2BBc87PDI2YhOj171oxFA1vOflggbroF0830eOqmvSDrBitpnfPcHyjypbrIkL9RcXae5cYPvup5Cr%2FB0tHf9HuMTqbfO8%2BT44z%2BalxVNoA2HPplGY7Ahn6MKoJkOdG4lUXUQuafRXiSIbRLfo4%2FigjImJnzdbC2%2FEURVWomDXtaa8yOZrOp9uipHDcA9LKWPNfwpnogbUPOltNenM%2F8BQNAe%2Bl";
        window.__genspark_locale = "fr-FR";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDs8EWWsaftBiZ8xZGbHn7juSAOitCQ8z+CXGFdxqBZhrR4Iu5lPqyxxgd07tySqa1X0+qpmy212EVXV58+G2XvA0I0xVjyBEJBlMis6IqYghzQDBy/pJYk2mwsqpwj5YfVBGlJKXgQqmSrlEMONEPM3cYKL+PGJkwT9jMsguug5UvLU3Z0wbDKoU5+ytfFiBbXRZ4jzYhGls2BQZXcUztfdsoDgtHPn+T3k9/2v4Loz1UkAqKzJ1SkZjw7djfEb7Vl7aegYv9WDvvQZDFNMSIzz5ghIx2FQe/ck2s98pUnMoRPoxdHaUnTvB1kohzEkYNO8Z7B0wQxQ15repn6+Bc87PDI2YhOj171oxFA1vOflggbroF0830eOqmvSDrBitpnfPcHyjypbrIkL9RcXae5cYPvup5Cr/B0tHf9HuMTqbfO8+T44z+alxVNoA2HPplGY7Ahn6MKoJkOdG4lUXUQuafRXiSIbRLfo4/igjImJnzdbC2/EURVWomDXtaa8yOZrOp9uipHDcA9LKWPNfwpnogbUPOltNenM/8BQNAe+l";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    